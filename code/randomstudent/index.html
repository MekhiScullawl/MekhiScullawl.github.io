<!DOCTYPE html>
<html>
<head>
<style>
h1 {
  font-size: 60px;
}
form {
  font-size: 25px;
}
button {
  font-size: 25;
}
p {
  font-size: 30;
}
input {
  font-size: 20px;
}
body {
  margin-left: 30px;
  margin-top: 30px;
}
</style>
</head>
<body>

<h1>Random Generator</h1>

<form id="myForm" "myForm()">
  Number of Students: <input type="number" id="input" name="fname" value="30"><br>
</form>

<p></p>

<button type="button" onclick="myFunction()" onerror="error">Generate</button>

<p id="list">List</p>
<p id="output">Output</p>

<script>
//var z = 0;
var list = ["[0"];
var x = 0;
var unusedList = new Array();
var i = 1;


function myFunction() {
  for (i; i <= document.getElementById("input").value; i++) {
    unusedList.push(i);
  } 

  if (unusedList.length == 0 )
  {error()
  return;
  }
  

  var numClass = document.getElementById("input").value;

  var arrayLength = unusedList.length;
  
  x = random(list, unusedList.length, unusedList);
  
  list += [", " + x];
  
  document.getElementById("list").innerHTML = list + "]";
  document.getElementById("output").innerHTML = "Student: " + x;
  console.log(unusedList);

}


function getRandInt(min, max) {
  return Math.floor(Math.random() * (max - min) ) + min;
}


function random(list, max, unusedList) {
  var x = getRandInt(0, max);
  var calledStudent = unusedList[x];

  const index = x;
  if (index > -1) {
    unusedList.splice(index, 1);
  }

  return calledStudent;
}
function error(){
  list = ["[0"];
  x = 0;
  unusedList = new Array();
  i = 1;
  alert("Every student has been called on")
  myFunction()
}


</script>

</body>
</html>
